# Лабораторная работа 1

**Название:** "Разработка драйверов символьных устройств"

**Цель работы:** разработать драйвер символьного устройства

## Описание функциональности драйвера

В файловой системе создаются два файла:
* `/dev/var5`
* `/proc/var5`
При записи в эти файлы в кольцевой буфер ядра записывается количество букв, которое было записано.


## Инструкция по сборке

```
make # собрать модуль ядра
make clean # очистить директорию
# далее свободно взаимодействуем с файлами, согласно интерфейсу определенному вариантом
```

## Инструкция пользователя

1. Собрать модуль
2. Загрузить модуль
3. Создать узел для устройства
4. Писать в узел текст
5. Читать из узла для получение ранее вычисленных выражений, на одно чтение по кругу выводятся последовательно пять последних результатов
6. При чтении из файла `/proc/var5` проверять лог для того, чтобы увидеть результат чтения

## Примеры использования

### Пример работы с `/dev/var5`
```
echo "abc12345" > /dev/var5
cat /dev/var5
sudo dmesg
-------------
[ 2058.089646] lab: opened
[ 2058.089724] lab: write
[ 2058.089740] lab: closed
[ 2069.943750] lab: opened
[ 2069.943785] lab: read
[ 2069.943787] lab: device log
[ 2069.943793] Text was written with letters = 3
[ 2069.943842] lab: closed
```

### Пример работы с `/proc/var5`
```
cat /proc/var5
Device log
Text was written with letters = 3

sudo dmesg
----------
[ 2058.089646] lab: opened
[ 2058.089724] lab: write
[ 2058.089740] lab: closed
[ 2069.943750] lab: opened
[ 2069.943785] lab: read
[ 2069.943787] lab: device log
[ 2069.943793] Text was written with letters = 3
[ 2069.943842] lab: closed
```

